<nz-header *ngIf="drawerInfo.content.header"
  [ngClass]="{'dark': siteStyle == 'dark', 'fixed': navigationInfo.header, 'collapsed': isCollapsed}"
  style="            overflow: hidden;
  width: 100%;
  position: fixed;
  left: 0;">

  <div>
    <img src="assets/pdf/spt1/img_02.png" alt="" width="80px">
  </div>

  <span
    class="trigger"
    nz-icon
    [nzType]="DashboardService.isCollapsed ? 'menu-unfold' : 'menu-fold'"
    (click)="toggleSidebar()" style="margin-left: 120px;"
  ></span>
  <div style="flex: 1 1 0%;"></div>

  <div class="header-right">
    <div *ngIf="mostrarNotificaciones" class="header-action header-bell"
         nz-dropdown [nzDropdownMenu]="menuBell"
         [nzTrigger]="'click'"
         [nzPlacement]="'bottomRight'"
         [nzOverlayClassName]="'dropdownBell'"
         nz-tooltip
         nzTooltipTitle="Notificacion"
         nzTooltipPlacement="bottom">

      <i nz-icon nzType="bell" nzTheme="outline"></i>
      <nz-badge [nzCount]="bellInfo.total"></nz-badge>

      <nz-dropdown-menu #menuBell="nzDropdownMenu">
        <div class="bell-container">
          <nz-tabset [nzSelectedIndex]="0">

            <nz-tab [nzTitle]="'Pendiente' + (bellInfo.notice ? '(' + bellInfo.notice + ')' : '')">
              <nz-list nzItemLayout="horizontal">
                <nz-list-item *ngFor="let item of noticeList" [class.read]="item.read" (click)="read(item)">
                  <nz-list-item-meta>
                    <nz-list-item-meta-avatar>
                      <nz-avatar nzIcon="file-pdf" [nzSrc]="item?.avatar"></nz-avatar>
                    </nz-list-item-meta-avatar>
                    <nz-list-item-meta-title>{{item.title}}</nz-list-item-meta-title>
                    <nz-list-item-meta-description>{{item.time}}</nz-list-item-meta-description>
                  </nz-list-item-meta>
                </nz-list-item>
                <nz-list-empty *ngIf="noticeList.length === 0" [nzNoResult]="noNoticeTpl"></nz-list-empty>
              </nz-list>
            </nz-tab>


            <nz-tab [nzTitle]="'Firmado' + (bellInfo.message ? '(' + bellInfo.message + ')' : '')">
              <nz-list nzItemLayout="horizontal">
                <nz-list-item *ngFor="let item of messageList" [class.read]="item.read" (click)="read(item)">
                  <nz-list-item-meta>
                    <nz-list-item-meta-avatar>
                      <nz-avatar nzIcon="file-pdf" [nzSrc]="item?.avatar"></nz-avatar>
                    </nz-list-item-meta-avatar>
                    <nz-list-item-meta-title>{{item.title}}</nz-list-item-meta-title>
                    <nz-list-item-meta-description>
                      <div>{{item.desc}}</div>
                      <div>{{item.time}}</div>

                      <div [ngSwitch]="item.status">
                        <nz-tag *ngSwitchCase="2" [nzColor]="'red'">马上到期</nz-tag>
                        <nz-tag *ngSwitchDefault>Otro estado</nz-tag>
                      </div>
                    </nz-list-item-meta-description>
                  </nz-list-item-meta>
                </nz-list-item>
                <nz-list-empty *ngIf="messageList.length === 0" [nzNoResult]="noMessageTpl"></nz-list-empty>
              </nz-list>
            </nz-tab>
          </nz-tabset>
        </div>
      </nz-dropdown-menu>
    </div>

    <i nz-icon nzType="logout" nzTheme="outline"
       nz-tooltip nzTooltipTitle="Cerrar Sesion" nzTooltipPlacement="bottom" (click)="logout()"></i>


    <ng-template #noNoticeTpl>
      <ng-container *ngTemplateOutlet="noResultTpl; context: {type: 'Has revisado todas las notificaciones'}"></ng-container>
    </ng-template>

    <ng-template #noMessageTpl>
      <ng-container *ngTemplateOutlet="noResultTpl; context: {type: 'Has revisado todos los mensajes'}"></ng-container>
    </ng-template>

    <ng-template #noTaskTpl>
      <ng-container *ngTemplateOutlet="noResultTpl; context: {type: 'Has revisado todas las tareas'}"></ng-container>
    </ng-template>

    <ng-template #noResultTpl let-type="type">
      <nz-empty [nzNotFoundImage]="'https://gw.alipayobjects.com/zos/rmsportal/sAuJeJzSKbUmHfBQRzmZ.svg'"
                [nzNotFoundContent]="type"></nz-empty>
    </ng-template>

  </div>
</nz-header>



