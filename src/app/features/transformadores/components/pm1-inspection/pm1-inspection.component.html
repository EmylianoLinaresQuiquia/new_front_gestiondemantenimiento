<div class="w-full max-w-5xl mx-auto font-sans text-xs border border-gray-900">
  <!-- Header Section -->
  <div class="grid grid-cols-[1fr,3fr,1fr]">
    <!-- Left Logo -->
    <div class="border-r border-gray-900 p-1 flex items-center justify-center">
      <img src="assets/placeholder.svg" alt="Marcobre logo" class="h-5" />
    </div>

    <!-- Center Title and Info -->
    <div class="border-r border-gray-900">
      <h1 class="text-center border-b border-gray-900 p-1 text-sm font-bold">
        MANTENIMIENTO PROGRAMADO DE SUB ESTACIONES TIPO ESTACIÓN - PM1
      </h1>
      <div class="grid grid-cols-2">
        <div class="border-r border-gray-900">
          <div class="border-b border-gray-900 p-1">Área: Electricidad y Potencia</div>
          <div class="p-1 whitespace-nowrap">Fecha: 20-09-2023</div>
        </div>
        <div>
          <div class="border-b border-gray-900 p-1">Versión: 004</div>
          <div class="grid grid-cols-[2fr,1fr]">
            <div class="p-1 border-r border-b border-gray-900 whitespace-nowrap">
              Documento: MJ-EP-MPSETE-001
            </div>
            <div class="p-1 border-b border-gray-900 whitespace-nowrap text-right">
              Página: 1 de 1
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Right Logo -->
    <div class="p-1 flex items-center justify-center">
      <img src="assets/placeholder.svg" alt="Mina Justa logo" class="h-5" />
    </div>
  </div>

  <!-- Form Section -->
  <div class="border-t border-gray-900">
    <div class="grid grid-cols-[1.5fr,3fr,4fr]">
      <!-- Substation Tag Row -->
      <div class="bg-[#fff5cc] font-bold px-2 flex items-center h-8 justify-start border-r border-b border-gray-900 whitespace-nowrap">
        Substation Tag:
      </div>
      <div class="flex items-center h-8 border-r border-b border-gray-900">
        <input
          type="text"
          class="border-0 shadow-none h-7 mx-2 bg-transparent focus:outline-none"
        />
      </div>

      <!-- Nested grid for Location, Work Order, etc. -->
      <div class="grid grid-rows-2 border-b border-gray-900">
        <div class="grid grid-cols-[1.2fr,2fr,1.2fr,2fr]">
          <div class="bg-[#fff5cc] font-bold px-2 flex items-center h-8 justify-start border-r border-b border-gray-900 whitespace-nowrap">
            Location:
          </div>
          <div class="flex items-center h-8 border-r border-b border-gray-900">
            <input
              type="text"
              class="border-0 shadow-none h-7 mx-2 bg-transparent focus:outline-none"
            />
          </div>
          <div class="bg-[#fff5cc] font-bold px-2 flex items-center h-8 justify-start border-r border-b border-gray-900 whitespace-nowrap">
            Work Order:
          </div>
          <div class="flex items-center h-8 border-b border-gray-900">
            <input
              type="text"
              class="border-0 shadow-none h-7 mx-2 bg-transparent focus:outline-none"
            />
          </div>
        </div>
        <div class="grid grid-cols-[1.2fr,2fr,1.2fr,2fr,1.2fr,2fr]">
          <div class="bg-[#fff5cc] font-bold px-2 flex items-center h-8 justify-start border-r border-gray-900 whitespace-nowrap">
            Start Time:
          </div>
          <div class="flex items-center h-8 border-r border-gray-900">
            <input
              type="time"
              class="border-0 shadow-none h-7 mx-2 bg-transparent focus:outline-none"
            />
          </div>
          <div class="bg-[#fff5cc] font-bold px-2 flex items-center h-8 justify-start border-r border-gray-900 whitespace-nowrap">
            End Time:
          </div>
          <div class="flex items-center h-8 border-r border-gray-900">
            <input
              type="time"
              class="border-0 shadow-none h-7 mx-2 bg-transparent focus:outline-none"
            />
          </div>
          <div class="bg-[#fff5cc] font-bold px-2 flex items-center h-8 justify-start border-r border-gray-900 whitespace-nowrap">
            Date:
          </div>
          <div class="flex items-center h-8">
            <input
              type="date"
              class="border-0 shadow-none h-7 mx-2 bg-transparent focus:outline-none"
            />
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="border border-black rounded-sm max-w-5xl mx-auto font-sans text-xs">
  <!-- Tabla de instrucciones de seguridad -->
  <table class="w-full border-collapse">
    <!-- Encabezado de la tabla -->
    <thead>
      <tr class="bg-[#FFFFD4]">
        <th class="text-center font-bold border border-black py-1 px-1">
          INSTRUCCIONES DE SEGURIDAD
        </th>
        <th class="w-12 text-center font-bold border border-black py-1 px-1">
          "√"
        </th>
        <th class="w-12 text-center font-bold border border-black py-1 px-1">
          "N/A"
        </th>
        <th class="w-[200px] text-center font-bold border border-black py-1 px-1">
          OBSERVACIONES
        </th>
      </tr>
    </thead>
    <!-- Cuerpo de la tabla -->
    <tbody>
      <tr class="hover:bg-white">
        <td class="border border-black py-1 px-1 align-top">
          Completar los permisos de trabajo según la actividad adjuntados a la OT (IPERC - ATS - PETAR PETS)
        </td>
        <td class="border border-black text-center p-0 align-middle">
          <input type="checkbox" class="mx-auto h-4 w-4" />
        </td>
        <td class="border border-black text-center p-0 align-middle">
          <input type="checkbox" class="mx-auto h-4 w-4" />
        </td>
        <td class="border border-black p-0">
          <textarea
            class="border-0 min-h-[30px] resize-none w-full h-full p-1 focus:outline-none"
          ></textarea>
        </td>
      </tr>
      <tr class="hover:bg-white">
        <td class="border border-black py-1 px-1 align-top">
          Inspección de herramientas y evitar exceso de carga (>25 kg)
        </td>
        <td class="border border-black text-center p-0 align-middle">
          <input type="checkbox" class="mx-auto h-4 w-4" />
        </td>
        <td class="border border-black text-center p-0 align-middle">
          <input type="checkbox" class="mx-auto h-4 w-4" />
        </td>
        <td class="border border-black p-0">
          <textarea
            class="border-0 min-h-[30px] resize-none w-full h-full p-1 focus:outline-none"
          ></textarea>
        </td>
      </tr>
      <tr class="hover:bg-white">
        <td class="border border-black py-1 px-1 align-top">
          Usar implementos de seguridad personal de acuerdo al tipo de trabajo (EPP's).
        </td>
        <td class="border border-black text-center p-0 align-middle">
          <input type="checkbox" class="mx-auto h-4 w-4" />
        </td>
        <td class="border border-black text-center p-0 align-middle">
          <input type="checkbox" class="mx-auto h-4 w-4" />
        </td>
        <td class="border border-black p-0">
          <textarea
            class="border-0 min-h-[30px] resize-none w-full h-full p-1 focus:outline-none"
          ></textarea>
        </td>
      </tr>
      <tr class="hover:bg-white">
        <td class="border border-black py-1 px-1 align-top">
          Realizar el aislamiento, bloqueo y confirmación energía cero de la sub estación eléctrica. Evaluar.
        </td>
        <td class="border border-black text-center p-0 align-middle">
          <input type="checkbox" class="mx-auto h-4 w-4" />
        </td>
        <td class="border border-black text-center p-0 align-middle">
          <input type="checkbox" class="mx-auto h-4 w-4" />
        </td>
        <td class="border border-black p-0">
          <textarea
            class="border-0 min-h-[30px] resize-none w-full h-full p-1 focus:outline-none"
          ></textarea>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- Sección de actividades -->
  <div class="grid grid-cols-[150px_1fr] border-t border-black text-[10px]">
    <div class="border-r border-black p-1 font-bold bg-[#FFFFD4]">
      ACTIVIDADES A DESARROLLAR
    </div>
    <div class="p-1 bg-[#FFFFD4]">
      <span class="font-bold text-red-600">INSTRUCCIONES:</span> Seleccionar
      <span class="font-bold">"BUEN ESTADO"</span> si no tiene observaciones,
      <span class="font-bold">"OBSERVADO"</span> si tiene observaciones, describir la acción y solicitar aviso, llenar los valores de los instrumentos (actual / testigo).
    </div>
  </div>
</div>



<div class="max-w-5xl mx-auto border border-black text-sm font-sans">
  <!-- Main Inspection Table -->
<table class="w-full border-collapse text-xs">
  <!-- Table Header -->
  <thead>
    <tr>
      <th class="font-bold border border-black py-1 px-2 bg-[#FFEFD5]" rowspan="1">
        PATIO DE SUB ESTACIÓN
      </th>
      <th class="text-center font-bold border border-black bg-[#FFEFD5]" colspan="3">
        ESTADO
      </th>
      <th class="w-[200px] text-center font-bold border border-black bg-[#FFEFD5]" rowspan="1">
        OBSERVACIONES
      </th>
    </tr>
    <tr>
      <th class="border border-black bg-[#FFEFD5]"></th>
      <th class="w-12 text-center border border-black bg-[#FFEFD5]">√</th>
      <th class="w-12 text-center border border-black bg-[#FFEFD5]">x</th>
      <th class="w-12 text-center border border-black bg-[#FFEFD5]">N/A</th>
      <th class="border border-black bg-[#FFEFD5]"></th>
    </tr>
  </thead>
  <!-- Table Body -->
  <tbody>
    <tr>
      <td class="border border-black py-1 px-2">Candados y manijas de puertas de acceso</td>
      <td class="border border-black text-center">
        <input type="checkbox" class="mx-auto h-4 w-4" />
      </td>
      <td class="border border-black text-center">
        <input type="checkbox" class="mx-auto h-4 w-4" />
      </td>
      <td class="border border-black text-center">
        <input type="checkbox" class="mx-auto h-4 w-4" />
      </td>
      <td class="border border-black p-0">
        <textarea class="border-0 min-h-[36px] resize-none w-full h-full p-1 text-xs focus:outline-none"></textarea>
      </td>
    </tr>
    <tr>
      <td class="border border-black py-1 px-2">Señalización de seguridad en cerco, transformador, bandejas</td>
      <td class="border border-black text-center">
        <input type="checkbox" class="mx-auto h-4 w-4" />
      </td>
      <td class="border border-black text-center">
        <input type="checkbox" class="mx-auto h-4 w-4" />
      </td>
      <td class="border border-black text-center">
        <input type="checkbox" class="mx-auto h-4 w-4" />
      </td>
      <td class="border border-black p-0">
        <textarea class="border-0 min-h-[36px] resize-none w-full h-full p-1 text-xs focus:outline-none"></textarea>
      </td>
    </tr>
    <tr>
      <td class="border border-black py-1 px-2">Bandejas porta cables</td>
      <td class="border border-black text-center">
        <input type="checkbox" class="mx-auto h-4 w-4" />
      </td>
      <td class="border border-black text-center">
        <input type="checkbox" class="mx-auto h-4 w-4" />
      </td>
      <td class="border border-black text-center">
        <input type="checkbox" class="mx-auto h-4 w-4" />
      </td>
      <td class="border border-black p-0">
        <textarea class="border-0 min-h-[36px] resize-none w-full h-full p-1 text-xs focus:outline-none"></textarea>
      </td>
    </tr>
    <tr>
      <td class="border border-black py-1 px-2">Sistema de iluminación y luces de emergencia en patio</td>
      <td class="border border-black text-center">
        <input type="checkbox" class="mx-auto h-4 w-4" />
      </td>
      <td class="border border-black text-center">
        <input type="checkbox" class="mx-auto h-4 w-4" />
      </td>
      <td class="border border-black text-center">
        <input type="checkbox" class="mx-auto h-4 w-4" />
      </td>
      <td class="border border-black p-0">
        <textarea class="border-0 min-h-[36px] resize-none w-full h-full p-1 text-xs focus:outline-none"></textarea>
      </td>
    </tr>
  </tbody>
</table>

  <div class="border-t border-black text-xs">
    <!-- Recommendations Section -->
    <div class="grid grid-cols-[1fr_180px_130px] bg-[#FFEFD5] border-b border-black">
      <div class="p-1 font-bold border-r border-black">RECOMENDACIONES - OBSERVACIONES</div>
      <div class="p-1 font-bold text-center border-r border-black">SOLICITA AVISO SAP</div>
      <div class="p-1 font-bold text-center"># SOLICITUD</div>
    </div>
    <!-- Rows -->
    <div class="grid grid-cols-[1fr_180px_130px] border-b border-black">
      <div class="border-r border-black p-1">
        <!-- Reduced textarea height -->
        <textarea class="border-0 min-h-[16px] resize-none w-full h-full p-0.5 focus:outline-none text-xs"></textarea>
      </div>
      <div class="border-r border-black p-1 flex items-center justify-center gap-2">
        <label class="flex items-center gap-1">
          SI
          <input type="checkbox" class="h-3 w-3" />
        </label>
        <label class="flex items-center gap-1">
          NO
          <input type="checkbox" class="h-3 w-3" />
        </label>
      </div>
      <div class="p-1 flex items-center">
        <!-- Full width & height adjustment -->
        <input type="text" class="border-0 w-full h-full focus:outline-none text-xs p-0.5" />
      </div>
    </div>
    <!-- Additional Rows (Repetitive, same structure) -->
    <div class="grid grid-cols-[1fr_180px_130px] border-b border-black">
      <div class="border-r border-black p-1">
        <textarea class="border-0 min-h-[16px] resize-none w-full h-full p-0.5 focus:outline-none text-xs"></textarea>
      </div>
      <div class="border-r border-black p-1 flex items-center justify-center gap-2">
        <label class="flex items-center gap-1">
          SI
          <input type="checkbox" class="h-3 w-3" />
        </label>
        <label class="flex items-center gap-1">
          NO
          <input type="checkbox" class="h-3 w-3" />
        </label>
      </div>
      <div class="p-1 flex items-center">
        <input type="text" class="border-0 w-full h-full focus:outline-none text-xs p-0.5" />
      </div>
    </div>
    <!-- Repeat structure for additional rows -->
    <div class="grid grid-cols-[1fr_180px_130px] border-b border-black">
      <div class="border-r border-black p-1">
        <textarea class="border-0 min-h-[16px] resize-none w-full h-full p-0.5 focus:outline-none text-xs"></textarea>
      </div>
      <div class="border-r border-black p-1 flex items-center justify-center gap-2">
        <label class="flex items-center gap-1">
          SI
          <input type="checkbox" class="h-3 w-3" />
        </label>
        <label class="flex items-center gap-1">
          NO
          <input type="checkbox" class="h-3 w-3" />
        </label>
      </div>
      <div class="p-1 flex items-center">
        <input type="text" class="border-0 w-full h-full focus:outline-none text-xs p-0.5" />
      </div>
    </div>
    <div class="grid grid-cols-[1fr_180px_130px] border-b border-black">
      <div class="border-r border-black p-1">
        <textarea class="border-0 min-h-[16px] resize-none w-full h-full p-0.5 focus:outline-none text-xs"></textarea>
      </div>
      <div class="border-r border-black p-1 flex items-center justify-center gap-2">
        <label class="flex items-center gap-1">
          SI
          <input type="checkbox" class="h-3 w-3" />
        </label>
        <label class="flex items-center gap-1">
          NO
          <input type="checkbox" class="h-3 w-3" />
        </label>
      </div>
      <div class="p-1 flex items-center">
        <input type="text" class="border-0 w-full h-full focus:outline-none text-xs p-0.5" />
      </div>
    </div>
    <div class="grid grid-cols-[1fr_180px_130px] border-b border-black">
      <div class="border-r border-black p-1">
        <textarea class="border-0 min-h-[16px] resize-none w-full h-full p-0.5 focus:outline-none text-xs"></textarea>
      </div>
      <div class="border-r border-black p-1 flex items-center justify-center gap-2">
        <label class="flex items-center gap-1">
          SI
          <input type="checkbox" class="h-3 w-3" />
        </label>
        <label class="flex items-center gap-1">
          NO
          <input type="checkbox" class="h-3 w-3" />
        </label>
      </div>
      <div class="p-1 flex items-center">
        <input type="text" class="border-0 w-full h-full focus:outline-none text-xs p-0.5" />
      </div>
    </div>
  </div>

  <!-- Footer Section -->
  <div class="grid grid-cols-2 text-xs">
    <div class="border-r border-black p-3 space-y-3">
      <div>
        <div class="font-bold">RESP. DEL SERVICIO:</div>
        <div class="mt-3 space-y-1">
          <div class="flex items-center gap-2">
            <div>N° FOTOCHECK:</div>
            <input type="text" class="w-28 h-6 border border-gray-300 text-xs" />
          </div>
          <div>
            <div>FIRMA:</div>
            <div class="h-12 border-b border-black mt-1"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="p-3 space-y-3">
      <div>
        <div class="font-bold">SUPERVISOR:</div>
        <div class="mt-3 space-y-1">
          <div class="flex items-center gap-2">
            <div>N° FOTOCHECK:</div>
            <input type="text" class="w-28 h-6 border border-gray-300 text-xs" />
          </div>
          <div>
            <div>FIRMA:</div>
            <div class="h-12 border-b border-black mt-1"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>





<div #pdfContainer style="position: relative;">
	<canvas></canvas>
	<div class="annotationLayer"></div>
  </div>




  <!--<p-toast key="error"></p-toast>
  <p-toast key="errorpdf"></p-toast>
  <p-toast key="evaluacion"></p-toast>
  <p-toast key="success"></p-toast>
  <p-confirmDialog></p-confirmDialog>
  <p-toast></p-toast>-->


  <ng-template #pdfModal>

    <div class="pdf-container">
      <iframe
        [src]="pdfUrl"

        frameborder="0">
      </iframe>
    </div>
  </ng-template>




<div style="  left: 101.4682em;top: 7.331em;position: absolute;">
	<h6>GUARDAR</h6>
<a (click)="saveData()" style="cursor: pointer;">
	<span nz-icon nzType="save" nzTheme="outline" style="font-size: 24px;"></span>
</a>

</div>

<div style="  left: 101.4682em;top: 12.331em;position: absolute;">
	<h6>PLANO</h6>
<a (click)="VerPlano()" style="cursor: pointer;">
	<span nz-icon nzType="file-pdf" nzTheme="outline" style="font-size: 24px;"></span>
</a>

